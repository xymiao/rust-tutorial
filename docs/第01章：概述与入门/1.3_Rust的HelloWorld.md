# Rust 第一个程序

上一个章节已经安装好了 Rust， 接下来就让我们来写一个 Rust 的程序。对于学习一门新的语言的时候，一般都是会在屏幕上打印一个 `Hello World !` 来查看程序各个配置是否有问题， 我们也使用这个方式。

## 编写程序

对于第一个程序不要求目录结构，在需要的地方创建因为我这会创建系列教程， 所有的代码都会放到一起。

这里就创建一个目录 `c01-01_hello-world` 

在该目录中， 创建一个文件 `main.rs`。

这里遇到 Rust 编程语言的第一个知识点。就是所有的 rust 编写的代码， 都是由 `.rs` 为结尾。

并编写第一个入口函数。 

```rust
fn main(){
    println!("Hello, World !");
}
```

 如果你是编程小白， 就不需要了解这么多， 就先写上代码就好了。 

然后使用 `rustc` 进行编译代码。

```shell
rustc main.rs
```

编译效果如下所示：

![image-20231004134306435](https://cdn.xymiao.com/xymiao/xymiaocdn/res/2024/202401/image-20231004134306435.png)

会产生一个可执行文件，`main.exe` 以及对应的  `main.pdb` ，包含调试信息、扩展名为 *`.pdb`* 的文件。

接下来执行 `./main` 可以看到效果如下所示：

```
./main
Hello, World !
```

我们的第一个 rust 代码就编写完成， 并成功运行。 这个时候， 你可以把这个 `exe` 的可执行文件，发给和你操作系统一致的环境中， 就可以直接运行， 而不需要对方安装 rust 或者其他的运行时环境。

## 简单的分析 Rust 的代码

让我们看看上面写的代码。 并把代码拆分为函数定义， 和代码内容

```rust
fn main(){
   
}
```

和

```rust
println!("Hello, World !");
```

先看第一部分，`fn` 是定义函数的方式。 而 `main` 是函数名。

`main` 函数是一个特殊的函数：在可执行的 Rust 程序中，它总是最先运行的代码。第一行代码声明了一个叫做 `main` 的函数，它没有参数也没有返回值。如果有参数的话，它们的名称应该出现在小括号 `()` 中。

函数体被包裹在 `{}` 中。Rust 要求所有函数体都要用花括号包裹起来。一般来说，将左花括号与函数声明置于同一行并以空格分隔，是良好的代码风格。

在 `main` 函数中有如下代码：`println!("Hello, World !");`

这行代码完成这个简单程序的所有工作：在屏幕上打印文本。这里有四个重要的细节需要注意。首先 Rust 的缩进风格使用 4 个空格，而不是 1 个制表符（tab）。

第二，`println!` 调用了一个 Rust 宏（macro）。如果是调用函数，则应输入 `println`（没有`!`）。我们将在第十九章详细讨论宏。现在你只需记住，当看到符号 `!` 的时候，就意味着调用的是宏而不是普通函数，并且宏并不总是遵循与函数相同的规则。

第三，`"Hello, world!"` 是一个字符串。我们把这个字符串作为一个参数传递给 `println!`，字符串将被打印到屏幕上。

第四，该行以分号结尾（`;`），这代表一个表达式的结束和下一个表达式的开始。大部分 Rust 代码行以分号结尾。

## Rust 的编译和运行的步骤

对于 `Rust` 而言，编译和运行是彼此独立。也就是说，需要先编译，才能运行。

语言按照执行环境的分类有不同的编译类型，可以分为：编译型、解释型、混合型语言。

而 `Rust` 就属于编译型语言， 就是需要先编译才能运行。